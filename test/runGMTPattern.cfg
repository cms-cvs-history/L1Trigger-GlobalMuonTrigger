process GMTPATT =
{

  untracked PSet maxEvents = {untracked int32 input = -1}

  service = MessageLogger {
     untracked vstring destinations = {"cout"}
  }

  source = L1MuGMTHWFileReader {

    untracked vstring fileNames = {"file:gmt_testfile.small.dat"}

  }

  include "L1Trigger/GlobalMuonTrigger/data/l1GmtEmulDigis.cff"
  replace l1GmtEmulDigis.DTCandidates = source:DT
  replace l1GmtEmulDigis.CSCCandidates = source:CSC
  replace l1GmtEmulDigis.RPCbCandidates = source:RPCb
  replace l1GmtEmulDigis.RPCfCandidates = source:RPCf
//  replace gmt.Debug = 9
  replace l1GmtEmulDigis.BX_min = -1
  replace l1GmtEmulDigis.BX_max = 1
  replace l1GmtEmulDigis.BX_min_readout = -1
  replace l1GmtEmulDigis.BX_max_readout = 1

  module gmtpatt = L1MuGMTPattern {
    untracked InputTag GMTInputTag = l1GmtEmulDigis
    untracked string OutputFile = "gmt_testfile.dat"
    
    # OutputType:
    # 1: human readable
    # 2: hex 20 col
    # 3: hex 4 col.
    # 4: hex in separate files
    untracked int32 OutputType = 4
  }

  path p = { l1GmtEmulDigis, gmtpatt }


}
